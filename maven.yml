---
- name: Create tmp directory for MVN install
  file: state=directory path={{MVN_ARCHIVE_PATH}} recurse=true

- name: Download MVN
  command: 'wget -nv --no-check-certificate --no-cookies --header "Cookie: oraclelicense=accept-securebackup-cookie" -O {{ MVN_ARCHIVE_PATH }}/{{ MVN_ARCHIVE }} {{ MVN_ARCHIVE_URL }}'
  args:
    creates: "{{ MVN_ARCHIVE_PATH }}/{{ MVN_ARCHIVE }}"

- name: Unzip MVN
  sudo: yes
  unarchive: "src={{ MVN_ARCHIVE_PATH }}/{{ MVN_ARCHIVE }} copy=no dest={{MVN_INSTALL_TARGET}}"


- name: Fix ownership
  file: "state=directory path={{MVN_INSTALL_TARGET_PATH}} owner=root group=root recurse=yes"
